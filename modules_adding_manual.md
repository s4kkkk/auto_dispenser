# Процесс добавления модуля
- Создать каталог в `auto_dispenser/src/modules/` , соответствующий названию модуля. Например, `auto_dispenser/src/modules/encoder_module`
- В каталоге модуля создать 2 (можно больше) файла: `<имя модуля>.h` и `<имя модуля>.cpp`
- В файле `<имя модуля>.h`:
  - ВЕСЬ код помещать в следующие блоки. Имя заменить на имя файла:
      ```c
      #ifndef ENCODER_MODULE_H
      #define ENCODER_MODULE_H
      <код>
      #endif
      ```
  - Добавить структуру, соответствующую названию модуля. Первым полем структуры обязательно должен быть `module_t _module`:
      ```c
    typedef struct encoder_module encoder_module_t;
    struct encoder_module {
      module_t _module;

      uint8_t prev_button_state;
      enc_module_state_t module_state;
    };
      ```
  - После добваления структуры объявить функцию-инициализатор структуры.
    ```c
    void encoder_module_t_init(encoder_module_t* encoder_module);
    ```
- В файле `<имя модуля>.cpp`:
  - Определять все, кроме инициализатора, функции с квалификатором `static` для того, чтобы они были видны только в пределах этого .cpp файла. Доступ к этим функциям извне только через указатели на эти функции
    в структуре.
  - В инициализаторе `encoder_module_t_init` заполнить все поля структуры.
  - Обязательно определить функици типа `<имя типа структуры>_module_enter` и `<имя типа структуры>_module_exit`. Эти методы настраивают модуль при его включении
    и выключении.
  - В конце файла создать глобальную переменную с именем модуля. По этой переменной будет осуществляться доступ к модулю. Например: `encoder_module_t encoder_module;`
- В файле `auto_dispenser/src/global_storage.h`:
  - Также определить глобальную переменную модуля, но с квалификатором `extern`. Этот файл нужен для того, чтобы переменная модуля была доступна из других
    модулей и вообще из любых других .cpp файлов проекта.
    
